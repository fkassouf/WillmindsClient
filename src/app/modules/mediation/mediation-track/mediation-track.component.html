
<form [formGroup]="fastTrackForm" (ngSubmit)="submit()" *ngIf="(trackMode == 'fast')
&& currentUser?.roles[0] === this.roles.PARTY && request?.statusName === mediationCaseStatusEnum.REGISTRATION_PAID"
class="flex flex-col mt-4 px-8 pt-10 bg-card shadow rounded overflow-hidden">
  

  <div class="grid sm:grid-cols-2 gap-3 pb-4 w-full">
    <mat-form-field class="w-full">
      <mat-label>
          <ng-container *transloco="let translate">
              {{translate('Language')}}
          </ng-container>
      </mat-label>
      <mat-select formControlName="language">
          <mat-option *ngFor="let lang of languages" [value]="lang" >
              <span>{{lang.name}}</span>
          </mat-option>
      </mat-select>
      <button mat-icon-button *ngIf="f.language.value" (click)="f.language.setValue(null)">
        <mat-icon>close</mat-icon>
      </button>
      <mat-error *ngIf="submitted && f.language.hasError('required')">
          <ng-container *transloco="let translate">
              {{translate('Field-Required')}}
          </ng-container>
      </mat-error>
  </mat-form-field>
  <mat-form-field class="w-full">
    <mat-label>
        <ng-container *transloco="let translate">
            {{translate('Other-Language')}}
        </ng-container>
    </mat-label>
    <input
        matInput
        formControlName="otherLanguage">
        <mat-error *ngIf="submitted && f.otherLanguage.hasError('required')">
            <ng-container *transloco="let translate">
                {{translate('Field-Required')}}
            </ng-container>
        </mat-error>
</mat-form-field>
  </div>
  <div class="flex items-center justify-end border-t -mx-8 mt-8 px-8 py-5 bg-gray-50 dark:bg-gray-700">
    <button
    type="submit"
    class="px-6 ml-3"
    mat-flat-button
    [color]="'primary'"
    [disabled]="submitting">
    <span *ngIf="!submitting">
        <ng-container *transloco="let translate">
            {{translate('Submit')}}
        </ng-container>
    </span>
    <mat-progress-spinner
        *ngIf="submitting"
        [diameter]="24"
        [mode]="'indeterminate'"></mat-progress-spinner>
</button>
</div>
</form>

<div *ngIf="request?.statusOrder > 9">
  <div class="grid sm:grid-cols-3 gap-3 pb-4 w-full">
    <div class="grid sm:grid-cols-1 gap-3 pb-4 w-full">
        <p class="text-md font-medium"> 
          <ng-container *transloco="let translate">
          {{translate('Language')}}
      </ng-container></p>
     
        <p class="text-md mb-6">{{getLangName(request?.languageId)}}</p>
    </div>
    <div class="grid sm:grid-cols-1 gap-3 pb-4 w-full">
      <p class="text-md font-medium"> 
        <ng-container *transloco="let translate">
        {{translate('Other-Language')}}
    </ng-container></p>
   
      <p class="text-md mb-6">{{request?.otherLanguageName}}</p>
  </div>
</div>
<div class="grid sm:grid-cols-1 gap-3 pb-4 w-full" 
*ngIf="(currentUser?.roles[0] === this.roles.SUPERADMIN || currentUser?.roles[0] === this.roles.ADMIN) && request?.statusName === mediationCaseStatusEnum.CO_MEDIATION_SELECTION_PENDING">
  <div class="w-full">
    <mat-label>
        <ng-container *transloco="let translate">
            {{translate('Co-Mediation')}}?
        </ng-container>
    </mat-label>
    <mat-slide-toggle color="primary" [(ngModel)]="coMediation" (change)="suggestCoMediation()"></mat-slide-toggle>
 
</div>
</div>

<div class="grid sm:grid-cols-1 gap-3 pb-4 w-full" 
*ngIf="(currentUser?.roles[0] === this.roles.SUPERADMIN || currentUser?.roles[0] === this.roles.ADMIN) && request?.statusName === mediationCaseStatusEnum.CO_MEDIATOR_SELECTION_PENDING">
  <div class="w-full">

 Set mediator and/or co mediator here
</div>
</div>
</div>

<div *ngIf="currentUser?.roles[0] === this.roles.PARTY && request?.statusName === mediationCaseStatusEnum.CO_MEDIATION_SELECTION_PENDING">
    <div class="grid sm:grid-cols-3 gap-3 pb-4 w-full">
    <div class="w-full">
        <p class="text-md font-medium"> 
          <ng-container *transloco="let translate">
          {{translate('Co-Mediation')}}
      </ng-container></p>
     
        <p class="text-md mb-6">{{request?.coMediation ?  'Yes' : 'No'}}</p>
        <div class="flex items-center" *ngIf="isAcceptCoMediationVisible">
            <button mat-stroked-button color="primary" 
            class="px-6 ml-3" (click)="acceptCoMediation(true)" [disabled]="acceptingCoMediation || rejectingCoMediation">
                <mat-icon>check</mat-icon>
                <span *ngIf="!acceptingCoMediation">
                    <ng-container *transloco="let translate">
                        {{translate('Accept')}}
                    </ng-container>
                </span>
                
                <mat-progress-spinner
                    *ngIf="accepting"
                    [diameter]="24"
                    [mode]="'indeterminate'"></mat-progress-spinner>
            </button>
    
            <button mat-stroked-button  class="px-6 ml-3" (click)="acceptCoMediation(false)"
            [disabled]="accepting || rejecting">
                <mat-icon>close</mat-icon>
                <span *ngIf="!rejectingCoMediation">
                    <ng-container *transloco="let translate">
                        {{translate('Reject')}}
                    </ng-container>
                </span>
                
                <mat-progress-spinner
                    *ngIf="rejecting"
                    [diameter]="24"
                    [mode]="'indeterminate'"></mat-progress-spinner>
                </button>
        </div>
    </div>
    
    </div>
</div>


